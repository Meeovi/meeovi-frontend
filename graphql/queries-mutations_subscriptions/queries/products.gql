query products($filter: AggregationsFilterInput, $pageSize: Int, $currentPage: Int, $sort: ProductAttributeSortInput, $filters: AttributeFilterInput, $pageSize1: Int, $currentPage1: Int, $search: String, $filter1: ProductAttributeFilterInput, $pageSize2: Int, $currentPage2: Int, $sort1: ProductAttributeSortInput){
    products(search: $search, filter: $filter1, pageSize: $pageSize2, currentPage: $currentPage2, sort: $sort1){
        aggregations(filter: $filter){
            attribute_code
            count
            label
            options{
                count
                label
                value
            }
            position
        }
        items{
            canonical_url
            categories{
                available_sort_by
                breadcrumbs{
                    category_level
                    category_name
                    category_uid
                    category_url_key
                    category_url_path
                }
                canonical_url
                children_count
                cms_block{
                    content
                    identifier
                    title
                }
                custom_layout_update_file
                default_sort_by
                description
                display_mode
                filter_price_range
                image
                include_in_menu
                is_anchor
                landing_page
                level
                meta_description
                meta_keywords
                meta_title
                name
                path
                path_in_store
                position
                product_count
                products(pageSize: $pageSize, currentPage: $currentPage, sort: $sort){
                    page_info{
                        current_page
                        page_size
                        total_pages
                    }
                    total_count
                }
                uid
                url_key
                url_path
                url_suffix
            }
            country_of_manufacture
            crosssell_products{
                canonical_url
                categories{
                    available_sort_by
                    canonical_url
                    children_count
                    custom_layout_update_file
                    default_sort_by
                    description
                    display_mode
                    filter_price_range
                    image
                    include_in_menu
                    is_anchor
                    landing_page
                    level
                    meta_description
                    meta_keywords
                    meta_title
                    name
                    path
                    path_in_store
                    position
                    product_count
                    uid
                    url_key
                    url_path
                    url_suffix
                }
                country_of_manufacture
                crosssell_products{
                    canonical_url
                    country_of_manufacture
                    description{
                        html
                    }
                    gift_message_available
                    image{
                        disabled
                        label
                        position
                        url
                    }
                    media_gallery{
                        disabled
                        label
                        position
                        url
                    }
                    meta_description
                    meta_keyword
                    meta_title
                    name
                    new_from_date
                    new_to_date
                    only_x_left_in_stock
                    options_container
                    price_tiers{
                        quantity
                    }
                    product_links{
                        link_type
                        linked_product_sku
                        linked_product_type
                        position
                        sku
                    }
                    rating_summary
                    related_products{
                        canonical_url
                        country_of_manufacture
                        gift_message_available
                        meta_description
                        meta_keyword
                        meta_title
                        name
                        new_from_date
                        new_to_date
                        only_x_left_in_stock
                        options_container
                        rating_summary
                        review_count
                        sku
                        special_price
                        special_to_date
                        stock_status
                        swatch_image
                        uid
                        url_key
                        url_suffix
                    }
                    review_count
                    short_description{
                        html
                    }
                    sku
                    small_image{
                        disabled
                        label
                        position
                        url
                    }
                    special_price
                    special_to_date
                    stock_status
                    swatch_image
                    thumbnail{
                        disabled
                        label
                        position
                        url
                    }
                    uid
                    upsell_products{
                        canonical_url
                        country_of_manufacture
                        gift_message_available
                        meta_description
                        meta_keyword
                        meta_title
                        name
                        new_from_date
                        new_to_date
                        only_x_left_in_stock
                        options_container
                        rating_summary
                        review_count
                        sku
                        special_price
                        special_to_date
                        stock_status
                        swatch_image
                        uid
                        url_key
                        url_suffix
                    }
                    url_key
                    url_rewrites{
                        url
                    }
                    url_suffix
                }
                gift_message_available
                meta_description
                meta_keyword
                meta_title
                name
                new_from_date
                new_to_date
                only_x_left_in_stock
                options_container
                rating_summary
                review_count
                sku
                special_price
                special_to_date
                stock_status
                swatch_image
                uid
                url_key
                url_suffix
            }
            custom_attributesV2(filters: $filters){
                errors{
                    message
                    type
                }
                items{
                    code
                }
            }
            description{
                html
            }
            gift_message_available
            image{
                disabled
                label
                position
                url
            }
            media_gallery{
                disabled
                label
                position
                url
            }
            meta_description
            meta_keyword
            meta_title
            name
            new_from_date
            new_to_date
            only_x_left_in_stock
            options_container
            price_range{
                maximum_price{
                    discount{
                        amount_off
                        percent_off
                    }
                    final_price{
                        currency
                        value
                    }
                    fixed_product_taxes{
                        label
                    }
                    regular_price{
                        currency
                        value
                    }
                }
                minimum_price{
                    discount{
                        amount_off
                        percent_off
                    }
                    final_price{
                        currency
                        value
                    }
                    fixed_product_taxes{
                        label
                    }
                    regular_price{
                        currency
                        value
                    }
                }
            }
            price_tiers{
                discount{
                    amount_off
                    percent_off
                }
                final_price{
                    currency
                    value
                }
                quantity
            }
            product_links{
                link_type
                linked_product_sku
                linked_product_type
                position
                sku
            }
            rating_summary
            related_products{
                canonical_url
                categories{
                    available_sort_by
                    canonical_url
                    children_count
                    custom_layout_update_file
                    default_sort_by
                    description
                    display_mode
                    filter_price_range
                    image
                    include_in_menu
                    is_anchor
                    landing_page
                    level
                    meta_description
                    meta_keywords
                    meta_title
                    name
                    path
                    path_in_store
                    position
                    product_count
                    uid
                    url_key
                    url_path
                    url_suffix
                }
                country_of_manufacture
                crosssell_products{
                    canonical_url
                    country_of_manufacture
                    gift_message_available
                    meta_description
                    meta_keyword
                    meta_title
                    name
                    new_from_date
                    new_to_date
                    only_x_left_in_stock
                    options_container
                    rating_summary
                    review_count
                    sku
                    special_price
                    special_to_date
                    stock_status
                    swatch_image
                    uid
                    url_key
                    url_suffix
                }
                description{
                    html
                }
                gift_message_available
                image{
                    disabled
                    label
                    position
                    url
                }
                media_gallery{
                    disabled
                    label
                    position
                    url
                }
                meta_description
                meta_keyword
                meta_title
                name
                new_from_date
                new_to_date
                only_x_left_in_stock
                options_container
                price_tiers{
                    quantity
                }
                product_links{
                    link_type
                    linked_product_sku
                    linked_product_type
                    position
                    sku
                }
                rating_summary
                related_products{
                    canonical_url
                    country_of_manufacture
                    gift_message_available
                    meta_description
                    meta_keyword
                    meta_title
                    name
                    new_from_date
                    new_to_date
                    only_x_left_in_stock
                    options_container
                    rating_summary
                    review_count
                    short_description{
                        html
                    }
                    sku
                    small_image{
                        disabled
                        label
                        position
                        url
                    }
                    special_price
                    special_to_date
                    stock_status
                    swatch_image
                    thumbnail{
                        disabled
                        label
                        position
                        url
                    }
                    uid
                    upsell_products{
                        canonical_url
                        country_of_manufacture
                        gift_message_available
                        meta_description
                        meta_keyword
                        meta_title
                        name
                        new_from_date
                        new_to_date
                        only_x_left_in_stock
                        options_container
                        rating_summary
                        review_count
                        sku
                        special_price
                        special_to_date
                        stock_status
                        swatch_image
                        uid
                        url_key
                        url_suffix
                    }
                    url_key
                    url_rewrites{
                        url
                    }
                    url_suffix
                }
                review_count
                sku
                special_price
                special_to_date
                stock_status
                swatch_image
                uid
                url_key
                url_suffix
            }
            review_count
            reviews(pageSize: $pageSize1, currentPage: $currentPage1){
                items{
                    average_rating
                    created_at
                    nickname
                    product{
                        canonical_url
                        country_of_manufacture
                        gift_message_available
                        meta_description
                        meta_keyword
                        meta_title
                        name
                        new_from_date
                        new_to_date
                        only_x_left_in_stock
                        options_container
                        rating_summary
                        review_count
                        sku
                        special_price
                        special_to_date
                        stock_status
                        swatch_image
                        uid
                        url_key
                        url_suffix
                    }
                    ratings_breakdown{
                        name
                        value
                    }
                    summary
                    text
                }
                page_info{
                    current_page
                    page_size
                    total_pages
                }
            }
            short_description{
                html
            }
            sku
            small_image{
                disabled
                label
                position
                url
            }
            special_price
            special_to_date
            stock_status
            swatch_image
            thumbnail{
                disabled
                label
                position
                url
            }
            uid
            upsell_products{
                canonical_url
                categories{
                    available_sort_by
                    canonical_url
                    children_count
                    custom_layout_update_file
                    default_sort_by
                    description
                    display_mode
                    filter_price_range
                    image
                    include_in_menu
                    is_anchor
                    landing_page
                    level
                    meta_description
                    meta_keywords
                    meta_title
                    name
                    path
                    path_in_store
                    position
                    product_count
                    uid
                    url_key
                    url_path
                    url_suffix
                }
                country_of_manufacture
                crosssell_products{
                    canonical_url
                    country_of_manufacture
                    gift_message_available
                    meta_description
                    meta_keyword
                    meta_title
                    name
                    new_from_date
                    new_to_date
                    only_x_left_in_stock
                    options_container
                    rating_summary
                    review_count
                    sku
                    special_price
                    special_to_date
                    stock_status
                    swatch_image
                    uid
                    url_key
                    url_suffix
                }
                description{
                    html
                }
                gift_message_available
                image{
                    disabled
                    label
                    position
                    url
                }
                media_gallery{
                    disabled
                    label
                    position
                    url
                }
                meta_description
                meta_keyword
                meta_title
                name
                new_from_date
                new_to_date
                only_x_left_in_stock
                options_container
                price_tiers{
                    quantity
                }
                product_links{
                    link_type
                    linked_product_sku
                    linked_product_type
                    position
                    sku
                }
                rating_summary
                related_products{
                    canonical_url
                    country_of_manufacture
                    gift_message_available
                    meta_description
                    meta_keyword
                    meta_title
                    name
                    new_from_date
                    new_to_date
                    only_x_left_in_stock
                    options_container
                    rating_summary
                    review_count
                    sku
                    special_price
                    special_to_date
                    stock_status
                    swatch_image
                    uid
                    url_key
                    url_suffix
                }
                review_count
                short_description{
                    html
                }
                sku
                small_image{
                    disabled
                    label
                    position
                    url
                }
                special_price
                special_to_date
                stock_status
                swatch_image
                thumbnail{
                    disabled
                    label
                    position
                    url
                }
                uid
                upsell_products{
                    canonical_url
                    country_of_manufacture
                    gift_message_available
                    meta_description
                    meta_keyword
                    meta_title
                    name
                    new_from_date
                    new_to_date
                    only_x_left_in_stock
                    options_container
                    rating_summary
                    review_count
                    sku
                    special_price
                    special_to_date
                    stock_status
                    swatch_image
                    uid
                    url_key
                    url_rewrites{
                        url
                    }
                    url_suffix
                }
                url_key
                url_suffix
            }
            url_key
            url_rewrites{
                parameters{
                    name
                    value
                }
                url
            }
            url_suffix
        }
        sort_fields{
            default
            options{
                label
                value
            }
        }
        suggestions{
            search
        }
        total_count
    }
}